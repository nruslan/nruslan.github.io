---
title: Jekyll in Docker
description: How to build your own Jekyll development environment that will be running in Docker container
date: 2025-02-02 05:00:00 -0500
categories: [Docker, Web Development]
tags: [docker,jekyll,md,webdev]
image:
  path: /assets/img/posts/2025-02-02/jekyll-in-docker.jpg
  alt: Jekyll in Docker
---

## Jekyll Development Environment in Docker Container
In this post I am going to describe and document the process of how to build your own Jekyll development environment that 
will run in Docker container.

### What is Jekyll
Jekyll is an open-source tool that creates static websites from Markdown documents. It's written in Ruby and 
is particularly popular among developers for creating personal project, documentation or organization websites.

### Requirements
There is only one requirement, Docker installed on your system.

### The Steps
If you don't have a theme to work with, you can clone [Chirpy-starter](https://github.com/cotes2020/chirpy-starter).

#### Dockerfile
Let's create a folder for the development environment. You can name it whatever you want, but I am going to name it `jekyll`.
This folder will contain all the necessary files required to build and run Jekyll.

Now we can `cd` into the "jekyll" directory and create a `Dockerfile`. The `Dockerfile` will be based off the official Ruby image.
You can review, copy and paste the following content into the `Dockerfile`:

```dockerfile
FROM ruby:3.3.7-slim-bookworm AS jekyll
LABEL maintainer="Ruslan N"
RUN apt-get update && apt-get install -y --no-install-recommends \
    build-essential \
    git \
    && rm -rf /var/lib/apt/lists/*

COPY --chmod=755 --chown=root:www-data docker-entrypoint.sh /usr/local/bin/

RUN gem update --system \
  && gem install jekyll \
  && gem cleanup

EXPOSE 4000
WORKDIR /app
ENTRYPOINT [ "jekyll" ]
CMD [ "--help" ]

# build from the image we just built with different metadata
FROM jekyll AS jekyll-serve

# on every container start, check if Gemfile exists and warn if it's missing
ENTRYPOINT [ "docker-entrypoint.sh" ]

CMD [ "bundle", "exec", "jekyll", "serve", "--force_polling", "-H", "0.0.0.0", "-P", "4000" ]
```
The `Dockerfile` will have an entrypoint. Create a new file `docker-entrypoint.sh` and paste the following content:

```shell
#!/usr/bin/env bash

set -e

if [ ! -f Gemfile ]; then
  echo "NOTE: I cannot find a Gemfile so I don't think there's a jekyll site here"
  echo "Either you didn't mount a volume, or you mounted it incorrectly."
  exit 1
fi

bundle install --retry 5 --jobs 20

exec "$@"

```

#### Compose

In the same `jekyll` directory create a YAML file with the name `compose.yml` and paste the following content:

```yaml
services:
  # Container
  jekyll:
    build:
      context: .
      dockerfile: Dockerfile
    restart: unless-stopped
    container_name: jekyll
    hostname: bookworm
    tty: true
    ports:
      - "4000:4000"
    volumes:
      - ../chirpy-starter:/app
```
And last but not least, create a `.dockerignore` file with the following content:

```docker
.jekyll-cache
_site
.github
.git
.gitlab
README.md
```
You should have a structure that is similar to this:
```shell
├── jekyll
    ├── Dockerfile
    ├── compose.yml
    ├── .dockerignore
    └── docker-entrypoint.sh
```
Execute the following command to build and start the container:

```shell
docker compose up -d --build
```
Now you can open your browser and type in the address bar `localhost:4000` and you should see your page generated by Jekyll.
